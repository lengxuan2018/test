<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    *{padding: 0;margin: 0;font-size: 16px;color: #000}
    .div{margin: 30px auto 100px;}
    i{font-style: normal}
    table{margin: 0 auto;text-align: center;border-collapse: collapse;}
    table,table th,table td{border: 1px solid #000}
    caption{margin-bottom: 10px;font-size: 20px;font-weight: 700;}
    th{background: #ccc;}
    th,td{min-width: 80px}
    #page{margin-top: 20px;text-align: center;font-size: 0;position: relative}
    #page > div{display: inline-block;font-size: 18px}
    #page #pre-page,#page #next-page{padding: 0 5px;border: 1px solid #ccc;cursor: pointer}
    #page-number{min-width: 30px;font-size: 0;}
    #page-number > i{display: inline-block;font-size: 18px;cursor: pointer;margin: 0 4px;}
    .red{color: red}
    .page-color{color: #ccc;}
    #change-size{position: absolute;top: 0;left: 50%;margin-left: -30%}
    #total-rows{margin: 0 5px;color: red;}
  </style>
  <script>
    window.onload = function () {
      var id = 1;
      var arr = [
        {
          number: id++,
          name: '张三1',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三2',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三3',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三4',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三5',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三6',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三7',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三8',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三9',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三10',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三11',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三1',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三2',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三3',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三4',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三5',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三6',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三7',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三8',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三9',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三10',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三11',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三1',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三2',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三3',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三4',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三5',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三6',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三7',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三8',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三9',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三10',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三11',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三1',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三2',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三3',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三4',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三5',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三6',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三7',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三8',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三9',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三10',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三11',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
        ,
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        },
        {
          number: id++,
          name: '张三12',
          sex: '男',
          age: '25'
        }
      ];
      var oList = document.getElementById('list');
      var pageNumber = document.getElementById('page-number');
      var oPrePage = document.getElementById('pre-page');
      var oNextPage = document.getElementById('next-page');
      var oSelct = document.getElementById('select');
      var oNewSize = oSelct.value;
      var oTotalRow = document.getElementById('total-rows');
      var num = arr.length;             //总行数
      var pageSize = oNewSize;                //每页显示行数
      var totalPage = Math.ceil(num/pageSize);                //总页数
      var thisPage = 0;                 //当前显示页码

      //写入表格
      function innerRow() {
        var newArr = [];
        for (var i = 0; i < arr.length; i++) {
          newArr.push('<tr><td>' + arr[i].number + '</td>' + '<td>' + arr[i].name + '</td>' + '<td>' + arr[i].sex + '</td>' + '<td>' + arr[i].age + '</td></tr>');
        }
        oList.innerHTML = '';
        oList.innerHTML = newArr.join('');
      }
      innerRow();

      //显示表格
      function showRow() {
        var startRow = thisPage * pageSize + 1;
        var endRow = '';
        if((thisPage + 1) * pageSize> num){
          endRow = num;
        }
        else{
          endRow = (thisPage + 1) * pageSize;
        }

        for(var i=1;i<(num+1);i++){
          var showRow = oList.rows[i-1];
          if(i>=startRow && i<=endRow){
            showRow.style.display = 'table-row';
          }else{
            showRow.style.display = 'none';
          }
        }
      }
      showRow();

      //写入页码
      function goPage() {
        pageNumber.innerHTML = '';

        for (var i=0;i<totalPage;i++){
          var oPage = document.createElement('i');
          oPage.innerHTML = i+1 ;
          pageNumber.appendChild(oPage);

          if(i == thisPage){
            oPage.className = 'red';
          }
        }
      }
      goPage();

      //上一页事件
      oPrePage.onclick = function (){
          if(thisPage > 0){
            thisPage --;
            showRow();
            goPage();
          }
        };
      //下一页事件
      oNextPage.onclick = function(){
          if(thisPage + 1 <totalPage){
            thisPage ++;
            showRow();
            goPage();
          }
        };
      //页码点击事件
      pageNumber.onclick = function (ev) {
        var ev = ev || window.event;
        var oTarget = ev.target || ev.srcElement;

        if(oTarget.tagName == 'I'){
          thisPage = oTarget.innerHTML - 1;
          showRow();
          goPage();
        }
      }
      //选择显示行事件
      oTotalRow.innerHTML = num;
      oSelct.onchange = function () {
        pageSize = oSelct.value;
        totalPage = Math.ceil(num/pageSize);
        thisPage = 0;

        innerRow();
        showRow();
        goPage();
      }

    }
  </script>
</head>
<body>
  <div class="div">
    <table>
      <caption>2018员工花名册</caption>
      <thead>
        <tr>
          <th>序号</th>
          <th>姓名</th>
          <th>性别</th>
          <th>年龄</th>
        </tr>
      </thead>
      <tbody id="list">

      </tbody>
    </table>
    <div id="page">
      <div id="change-size">
        <span>共有<i id="total-rows"></i>条记录 每页显示</span>
        <select id="select">
          <option value="10">10条</option>
          <option value="20">20条</option>
          <option value="50">50条</option>
          <option value="100">100条</option>
        </select>
      </div>
      <div id="pre-page">&lt;</div>
      <div id="page-number"></div>
      <div id="next-page">></div>
    </div>
  </div>
</body>
</html>